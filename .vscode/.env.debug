# VS Code local debug env (run web_api + worker_ingest on host)
# Dependencies (Postgres/Kafka/Redis) are expected to be running via Docker Compose.

# ---- Database (host port should match deploy/docker-compose.yml mapping) ----
POSTGRES_HOST_PORT=5433
DATABASE_URL=postgresql://bench_user:bench_pass@localhost:5433/ai_knowledge_bench

# ---- Kafka / Redis ----
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_TOPIC_INGEST=document.ingest.requested
KAFKA_TOPIC_REINDEX=document.reindex.requested
KAFKA_CONSUMER_GROUP=worker_ingest
REDIS_URL=redis://localhost:6379/0

# ---- App (run on a different port than Docker, to avoid conflicts) ----
APP_HOST=127.0.0.1
APP_PORT=18080
APP_LOG_LEVEL=DEBUG

# Local path (relative to workspace root)
APP_UPLOAD_DIR=./data/uploads

# ---- Embeddings ----
# For debugging, CPU is simplest.
EMBEDDING_DEVICE=cpu
EMBEDDING_MODEL=intfloat/multilingual-e5-small
EMBEDDING_DIMENSION=384
EMBEDDING_BATCH_SIZE=32

# ---- vLLM (optional; can keep disabled while debugging ingestion) ----
VLLM_BASE_URL=http://localhost:8000/v1
VLLM_API_KEY=EMPTY
VLLM_MODEL=Qwen/Qwen2.5-0.5B-Instruct
